<!DOCTYPE html>
<html lang="en">
<head>
    <title>&lt;model-viewer&gt; Augmented Reality</title>
    <meta charset="utf-8">
    <meta name="description" content="&lt;model-viewer&gt; AR examples">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link type="text/css" href="css/styles-examples.css" rel="stylesheet">
    <link type="text/css" href="css/styles-docs.css" rel="stylesheet">
    <link rel="shortcut icon" type="image/png" href="favicons/assets-favicon.png">

    <script defer src="js/collector.js"></script>
    <script>
        window.ga = window.ga || function () { (ga.q = ga.q || []).push(arguments) }; ga.l = +new Date;
        ga('create', 'UA-169901325-1', { 'storage': 'none' });
        ga('set', 'referrer', document.referrer.split('?')[0]);
        ga('set', 'anonymizeIp', true);
        ga('send', 'pageview');
    </script>
    <script async src="js/analytics.js"></script>
</head>
<body>

    <div class="examples-page">
        <div class="examples-container">
            <div class="sample">
                <div class="model-section">
                    <model-viewer src="../../shared-assets/models/Astronaut.glb" alt="A 3D model of an astronaut" ar ar-scale="fixed" ios-src="../../shared-assets/models/Astronaut.usdz" camera-controls touch-action="pan-y"></model-viewer>
                    <!-- AR button in the 3D model section -->
                    <button class="ar-button" id="arButton">View in AR</button>
                </div>
                <div class="text-section">
                    <h2 class="demo-title">WebXR Demo</h2>
                    <h4>Customize a WebXR Augmented Reality session with HTML, CSS, and JS in Chrome 83+ on Android.</h4>
                    <p>
                        This demonstrates the use of slots, as well as shared and unshared DOM between the 3D and AR modes.
                    </p>
                    <!-- Add your additional HTML text here -->
                    <p>
                        This is the right section with HTML text. You can add any content here.
                    </p>
                </div>
            </div>
        </div>
    </div>

    <script type="module" src="js/built-docs-and-examples.js"></script>
    <script type="module">
        (() => { init('examples-augmentedreality'); })();
        (() => { initFooterLinks(); })();
    </script>

    <!-- Documentation-specific dependencies: -->
    <script type="module" src="js/built-dependencies.js"></script>

    <!-- Loads <model-viewer> on modern browsers: -->
    <script type="module" src="js/dist-model-viewer.min.js"></script>

    <style>
        /* Make the model viewer fill the entire screen on desktop and landscape displays */
        body {
            margin: 0;
            overflow: hidden;
        }

        /* Split display 50:50 layout for desktop and landscape displays */
        .examples-container {
            display: flex;
            height: 100vh;
        }

        .model-section {
            flex: 1;
            display: flex;
            justify-content: center;
            align-items: center;
            background-color: #f0f0f0; /* Adjust the background color as needed */
            position: relative; /* For positioning the AR button */
        }

        .text-section {
            flex: 1;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
            box-sizing: border-box;
            background-color: #fff; /* Adjust the background color as needed */
        }

        /* Adjust layout for portrait orientation and mobile displays */
        @media (max-width: 768px) {
            .examples-container {
                flex-direction: column;
                height: auto;
            }

            .model-section,
            .text-section {
                flex: 1;
                width: 100%;
            }
        }

        /* Custom AR button styles */
        .ar-button {
            position: absolute;
            bottom: 20px;
            right: 20px;
            padding: 10px 20px;
            background-color: #4285f4;
            color: #fff;
            border: none;
            border-radius: 5px;
            font-size: 16px;
            cursor: pointer;
            z-index: 1;
        }
    </style>

    <script>
        const arButton = document.getElementById('arButton');

        function activateAR() {
            const modelViewer = document.querySelector('model-viewer');
            if (modelViewer.canActivateAR) {
                modelViewer.activateAR().catch((error) => {
                    console.error('Error activating AR:', error);
                });
            } else {
                alert('AR is not available on this device or platform.');
            }
        }

        // Show/hide AR button based on AR capabilities
        if (window.ModelViewer.supportsAR) {
            arButton.style.display = 'block';
            arButton.addEventListener('click', activateAR);
        } else {
            arButton.style.display = 'none';
        }
    </script>
</body>
</html>
